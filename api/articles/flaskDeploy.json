{"title":"Flaské¡¹ç›®æœåŠ¡å™¨éƒ¨ç½²","uid":"f2cb4d90a926fecafd5804ed8b8967f5","slug":"flaskDeploy","date":"2025-07-10T14:31:23.000Z","updated":"2025-07-28T02:27:19.087Z","comments":true,"path":"api/articles/flaskDeploy.json","keywords":null,"cover":"./images/resume_icon.jpg","content":"<h1 id=\"ğŸš€-Flask-é¡¹ç›®éƒ¨ç½²æ•™ç¨‹ï¼ˆä½¿ç”¨-Gunicorn-Nginx-HTTPSï¼‰\"><a href=\"#ğŸš€-Flask-é¡¹ç›®éƒ¨ç½²æ•™ç¨‹ï¼ˆä½¿ç”¨-Gunicorn-Nginx-HTTPSï¼‰\" class=\"headerlink\" title=\"ğŸš€ Flask é¡¹ç›®éƒ¨ç½²æ•™ç¨‹ï¼ˆä½¿ç”¨ Gunicorn + Nginx + HTTPSï¼‰\"></a>ğŸš€ Flask é¡¹ç›®éƒ¨ç½²æ•™ç¨‹ï¼ˆä½¿ç”¨ Gunicorn + Nginx + HTTPSï¼‰</h1><p>æœ¬æ•™ç¨‹ä»‹ç»å¦‚ä½•åœ¨ Ubuntu æœåŠ¡å™¨ä¸Šä½¿ç”¨ Gunicorn + Nginx éƒ¨ç½² Flask åç«¯ï¼Œå¹¶å®ç°è‡ªå®šä¹‰åŸŸåç»‘å®šã€HTTPS è‡ªåŠ¨ç­¾å‘åŠå‰ç«¯ Vercel å‘å¸ƒã€‚</p>\n<h1 id=\"ğŸ§±-é¡¹ç›®ç»“æ„æ¦‚è§ˆ\"><a href=\"#ğŸ§±-é¡¹ç›®ç»“æ„æ¦‚è§ˆ\" class=\"headerlink\" title=\"ğŸ§± é¡¹ç›®ç»“æ„æ¦‚è§ˆ\"></a>ğŸ§± é¡¹ç›®ç»“æ„æ¦‚è§ˆ</h1><p>toolBackend&#x2F;           # Flask åç«¯é¡¹ç›®<br>toolFrontend&#x2F;          # React å‰ç«¯é¡¹ç›®ï¼ˆå·²æ‰˜ç®¡ GitHubï¼‰</p>\n<h2 id=\"âœ…-å‰ææ¡ä»¶\"><a href=\"#âœ…-å‰ææ¡ä»¶\" class=\"headerlink\" title=\"âœ… å‰ææ¡ä»¶\"></a>âœ… å‰ææ¡ä»¶</h2><p>ä¸€å° Ubuntu æœåŠ¡å™¨ï¼ˆæ¨è 20.04+ï¼‰</p>\n<p>å·²å®‰è£… Python3ã€pipã€git</p>\n<p>å·²ç»‘å®šåŸŸåï¼ˆå¦‚ï¼š48api.tool4me.cnï¼‰</p>\n<p>å·²è§£æ A è®°å½•è‡³æœåŠ¡å™¨å…¬ç½‘ IP</p>\n<h2 id=\"ğŸ“¦-1-å®‰è£…ä¾èµ–\"><a href=\"#ğŸ“¦-1-å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"ğŸ“¦ 1. å®‰è£…ä¾èµ–\"></a>ğŸ“¦ 1. å®‰è£…ä¾èµ–</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install nginx certbot python3-certbot-nginx</span><br></pre></td></tr></table></figure>\n<p>æ¨èä½¿ç”¨è™šæ‹Ÿç¯å¢ƒç®¡ç†ä¾èµ–ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -m venv venv</span><br><span class=\"line\"><span class=\"built_in\">source</span> venv/bin/activate</span><br><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>\n<h2 id=\"âš™ï¸-2-ä½¿ç”¨-Gunicorn-å¯åŠ¨-Flask-é¡¹ç›®\"><a href=\"#âš™ï¸-2-ä½¿ç”¨-Gunicorn-å¯åŠ¨-Flask-é¡¹ç›®\" class=\"headerlink\" title=\"âš™ï¸ 2. ä½¿ç”¨ Gunicorn å¯åŠ¨ Flask é¡¹ç›®\"></a>âš™ï¸ 2. ä½¿ç”¨ Gunicorn å¯åŠ¨ Flask é¡¹ç›®</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gunicorn app:app --<span class=\"built_in\">bind</span> 127.0.0.1:5000 --workers 4 --daemon</span><br><span class=\"line\">app:app è¡¨ç¤ºï¼šapp.py ä¸­çš„ app å®ä¾‹</span><br></pre></td></tr></table></figure>\n\n<p>å¯å°†å…¶å†™å…¥ systemd æœåŠ¡å®ç°å®ˆæŠ¤è¿›ç¨‹ç®¡ç†ï¼ˆå¯é€‰ï¼‰</p>\n<h2 id=\"ğŸŒ-3-é…ç½®-Nginx-åå‘ä»£ç†\"><a href=\"#ğŸŒ-3-é…ç½®-Nginx-åå‘ä»£ç†\" class=\"headerlink\" title=\"ğŸŒ 3. é…ç½® Nginx åå‘ä»£ç†\"></a>ğŸŒ 3. é…ç½® Nginx åå‘ä»£ç†</h2><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/nginx/sites-available/your.domain.com</span><br></pre></td></tr></table></figure>\n<p>å†…å®¹ç¤ºä¾‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 80;</span><br><span class=\"line\">    server_name your.domain.com;</span><br><span class=\"line\"></span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        proxy_pass http://127.0.0.1:5000;</span><br><span class=\"line\">        proxy_set_header Host <span class=\"variable\">$host</span>;</span><br><span class=\"line\">        proxy_set_header X-Real-IP <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>åˆ›å»ºè½¯é“¾æ¥å¯ç”¨ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">ln</span> -s /etc/nginx/sites-available/your.domain.com /etc/nginx/sites-enabled/</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nginx -t</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl reload nginx</span><br></pre></td></tr></table></figure>\n<h2 id=\"ğŸ”’-4-é…ç½®-HTTPSï¼ˆLetâ€™s-Encryptï¼‰\"><a href=\"#ğŸ”’-4-é…ç½®-HTTPSï¼ˆLetâ€™s-Encryptï¼‰\" class=\"headerlink\" title=\"ğŸ”’ 4. é…ç½® HTTPSï¼ˆLetâ€™s Encryptï¼‰\"></a>ğŸ”’ 4. é…ç½® HTTPSï¼ˆLetâ€™s Encryptï¼‰</h2><p>ä½¿ç”¨ certbot è‡ªåŠ¨ç­¾å‘è¯ä¹¦ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> certbot --nginx -d your.domain.com</span><br></pre></td></tr></table></figure>\n<p>è¯ä¹¦è‡ªåŠ¨ç»­æœŸè®¾ç½®ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl status certbot.timer  <span class=\"comment\"># é»˜è®¤å·²å¯ç”¨è‡ªåŠ¨ç»­æœŸ</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"ğŸŒ-5-å‰ç«¯éƒ¨ç½²åˆ°-Vercel\"><a href=\"#ğŸŒ-5-å‰ç«¯éƒ¨ç½²åˆ°-Vercel\" class=\"headerlink\" title=\"ğŸŒ 5. å‰ç«¯éƒ¨ç½²åˆ° Vercel\"></a>ğŸŒ 5. å‰ç«¯éƒ¨ç½²åˆ° Vercel</h2><p>ç™»å½• vercel.com</p>\n<p>ç»‘å®šä½ çš„ GitHub ä»“åº“ï¼ˆå¦‚ï¼štoolFrontendï¼‰</p>\n<p>è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚ï¼šAPI_URL æŒ‡å‘ä½ çš„åç«¯ï¼‰</p>\n<p>è‡ªåŠ¨éƒ¨ç½²æˆåŠŸåç»‘å®šè‡ªå®šä¹‰åŸŸåï¼ˆå¦‚ï¼štool4me.cnï¼‰</p>\n<h2 id=\"ğŸ›¡ï¸-6-å®‰å…¨ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰\"><a href=\"#ğŸ›¡ï¸-6-å®‰å…¨ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰\" class=\"headerlink\" title=\"ğŸ›¡ï¸ 6. å®‰å…¨ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰\"></a>ğŸ›¡ï¸ 6. å®‰å…¨ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰</h2><p>é…ç½® fail2ban é˜²çˆ†ç ´</p>\n<p>ä½¿ç”¨ ufw å¼€å¯é˜²ç«å¢™ï¼Œä»…å¼€æ”¾ 80 å’Œ 443 ç«¯å£</p>\n<p>å®šæœŸå¤‡ä»½ MongoDB æ•°æ®å’Œæ—¥å¿—æ–‡ä»¶</p>\n<h2 id=\"ğŸ¯-æ•ˆæœéªŒè¯\"><a href=\"#ğŸ¯-æ•ˆæœéªŒè¯\" class=\"headerlink\" title=\"ğŸ¯ æ•ˆæœéªŒè¯\"></a>ğŸ¯ æ•ˆæœéªŒè¯</h2><p>åç«¯ API å¯é€šè¿‡ <a href=\"https://your.domain.com/api/xxx\">https://your.domain.com/api/xxx</a> è®¿é—®</p>\n<p>å‰ç«¯ç½‘é¡µå¯é€šè¿‡ <a href=\"https://domain.com/\">https://domain.com</a> è®¿é—®</p>\n<p>æ•°æ®ä¼ è¾“åŠ å¯†ã€å…¨çƒ CDN åŠ é€Ÿç”Ÿæ•ˆ</p>\n<h2 id=\"ğŸ‘¨â€ğŸ’»-æŠ€æœ¯æ ˆå›é¡¾\"><a href=\"#ğŸ‘¨â€ğŸ’»-æŠ€æœ¯æ ˆå›é¡¾\" class=\"headerlink\" title=\"ğŸ‘¨â€ğŸ’» æŠ€æœ¯æ ˆå›é¡¾\"></a>ğŸ‘¨â€ğŸ’» æŠ€æœ¯æ ˆå›é¡¾</h2><p>æ¨¡å—\tæŠ€æœ¯æ ˆ<br>åç«¯\tFlask + Gunicorn + MongoDB<br>å‰ç«¯\tReact + Semi Design + Vercel<br>éƒ¨ç½²\tNginx + certbot + systemd<br>åŸŸå &amp; å®‰å…¨\tDNSPod + Letâ€™s Encrypt</p>\n","feature":true,"text":"æœåŠ¡å™¨éƒ¨ç½²...","permalink":"/post/flaskDeploy","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"æœåŠ¡å™¨éƒ¨ç½²","slug":"æœåŠ¡å™¨éƒ¨ç½²","count":1,"path":"api/tags/æœåŠ¡å™¨éƒ¨ç½².json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%F0%9F%9A%80-Flask-%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%EF%BC%88%E4%BD%BF%E7%94%A8-Gunicorn-Nginx-HTTPS%EF%BC%89\"><span class=\"toc-text\">ğŸš€ Flask é¡¹ç›®éƒ¨ç½²æ•™ç¨‹ï¼ˆä½¿ç”¨ Gunicorn + Nginx + HTTPSï¼‰</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%F0%9F%A7%B1-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E6%A6%82%E8%A7%88\"><span class=\"toc-text\">ğŸ§± é¡¹ç›®ç»“æ„æ¦‚è§ˆ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E2%9C%85-%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"><span class=\"toc-text\">âœ… å‰ææ¡ä»¶</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%93%A6-1-%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">ğŸ“¦ 1. å®‰è£…ä¾èµ–</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E2%9A%99%EF%B8%8F-2-%E4%BD%BF%E7%94%A8-Gunicorn-%E5%90%AF%E5%8A%A8-Flask-%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">âš™ï¸ 2. ä½¿ç”¨ Gunicorn å¯åŠ¨ Flask é¡¹ç›®</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%8C%90-3-%E9%85%8D%E7%BD%AE-Nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86\"><span class=\"toc-text\">ğŸŒ 3. é…ç½® Nginx åå‘ä»£ç†</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%94%92-4-%E9%85%8D%E7%BD%AE-HTTPS%EF%BC%88Let%E2%80%99s-Encrypt%EF%BC%89\"><span class=\"toc-text\">ğŸ”’ 4. é…ç½® HTTPSï¼ˆLetâ€™s Encryptï¼‰</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%8C%8D-5-%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2%E5%88%B0-Vercel\"><span class=\"toc-text\">ğŸŒ 5. å‰ç«¯éƒ¨ç½²åˆ° Vercel</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%9B%A1%EF%B8%8F-6-%E5%AE%89%E5%85%A8%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89\"><span class=\"toc-text\">ğŸ›¡ï¸ 6. å®‰å…¨ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%8E%AF-%E6%95%88%E6%9E%9C%E9%AA%8C%E8%AF%81\"><span class=\"toc-text\">ğŸ¯ æ•ˆæœéªŒè¯</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%91%A8%E2%80%8D%F0%9F%92%BB-%E6%8A%80%E6%9C%AF%E6%A0%88%E5%9B%9E%E9%A1%BE\"><span class=\"toc-text\">ğŸ‘¨â€ğŸ’» æŠ€æœ¯æ ˆå›é¡¾</span></a></li></ol></li></ol>","author":{"name":"Mess1A","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/187351171?s=400&u=9c476f29a83e3e29437a4a4b05a8f9e119a6a631&v=4","link":"/","description":"åªè¦æƒ³å¿µ <br /> å°±ä¼šç›¸è§","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºè§†é¢‘æ–‡ä»¶åˆ†å‘æœåŠ¡","uid":"10be6ba17a189071ff3c4ecf77a6208e","slug":"vedioStorage","date":"2025-07-10T14:31:23.000Z","updated":"2025-07-28T02:27:19.088Z","comments":true,"path":"api/articles/vedioStorage.json","keywords":null,"cover":"./images/resume_icon.jpg","text":"æœåŠ¡æ­å»º...","permalink":"/post/vedioStorage","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"æœåŠ¡æ­å»º","slug":"æœåŠ¡æ­å»º","count":1,"path":"api/tags/æœåŠ¡æ­å»º.json"},{"name":"ftp","slug":"ftp","count":1,"path":"api/tags/ftp.json"}],"author":{"name":"Mess1A","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/187351171?s=400&u=9c476f29a83e3e29437a4a4b05a8f9e119a6a631&v=4","link":"/","description":"åªè¦æƒ³å¿µ <br /> å°±ä¼šç›¸è§","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"ä¸èŠ­å•†åŸåˆ‡ç¥¨","uid":"c86bd12937c2148f53e2425d8c90df48","slug":"ticketPlayWright","date":"2025-06-10T16:00:00.000Z","updated":"2025-07-28T02:27:19.088Z","comments":true,"path":"api/articles/ticketPlayWright.json","keywords":null,"cover":"./images/ticketPlayWright.jpg","text":"åˆ‡ç¥¨...","permalink":"/post/ticketPlayWright","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"python","slug":"python","count":2,"path":"api/tags/python.json"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","count":2,"path":"api/tags/çˆ¬è™«.json"},{"name":"playwright","slug":"playwright","count":1,"path":"api/tags/playwright.json"}],"author":{"name":"Mess1A","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/187351171?s=400&u=9c476f29a83e3e29437a4a4b05a8f9e119a6a631&v=4","link":"/","description":"åªè¦æƒ³å¿µ <br /> å°±ä¼šç›¸è§","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}